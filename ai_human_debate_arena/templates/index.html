<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AI Human Debate Arena</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@500&family=Cinzel:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <div class="app-wrapper">
        <header class="main-header">
            <div class="logo-area">
                <img src="/static/logo.png" alt="AI Human Debate Arena" class="header-logo">
                <p class="subtitle" id="tagline">Pick a topic. Watch AI Agents Debate. See Who Wins.</p>
            </div>
            <div class="debate-controls">
                <button onclick="triggerChaos()" class="chaos-btnGlass" title="Random Hot Topic">üî•</button>
                <input type="text" id="topic-input" class="inputGlass"
                    placeholder="What topic would you like to debate?" autocomplete="off">
                <button onclick="startDebate()" class="debate-btnGlass">DEBATE</button>
            </div>

            <div class="settings-controls">
                <div class="wpm-controlGlass" title="Reading Speed (WPM)">
                    <button class="wpm-btn" onclick="adjustWPM(-25)">‚àí</button>
                    <span id="wpm-display">250</span>
                    <button class="wpm-btn" onclick="adjustWPM(25)">+</button>
                </div>
            </div>
            <!-- Sports Broadcast Style Scoreboard -->
            <div id="score-container" class="scoreboard"
                style="display: none; margin-left: auto; height: 36px; background: linear-gradient(180deg, rgba(20,25,35,0.95), rgba(10,15,25,0.98)); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; align-items: center;">
                <div class="scoreboard-side for"
                    style="display: flex; align-items: center; gap: 8px; padding: 0 12px; height: 100%; background: linear-gradient(90deg, rgba(52,211,153,0.15), transparent); border-left: 3px solid #34d399;">
                    <span class="scoreboard-label"
                        style="font-size: 0.65rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; color: #34d399;">FOR</span>
                    <span id="score-advocate" class="scoreboard-score"
                        style="font-size: 1.4rem; font-weight: 800; color: #34d399; text-shadow: 0 0 10px rgba(52,211,153,0.5);">0</span>
                    <span id="crown-advocate" class="crown" style="display: none; font-size: 1rem;">üëë</span>
                </div>
                <div class="scoreboard-center" style="padding: 0 16px; display: flex; align-items: center;">
                    <span id="round-display" class="round-pill"
                        style="background: linear-gradient(135deg, rgba(56,189,248,0.2), rgba(56,189,248,0.1)); border: 1px solid rgba(56,189,248,0.4); color: #38bdf8; padding: 4px 12px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Round
                        0</span>
                </div>
                <div class="scoreboard-side against"
                    style="display: flex; align-items: center; gap: 8px; padding: 0 12px; height: 100%; background: linear-gradient(270deg, rgba(251,113,133,0.15), transparent); border-right: 3px solid #fb7185;">
                    <span id="crown-skeptic" class="crown" style="display: none; font-size: 1rem;">üëë</span>
                    <span id="score-skeptic" class="scoreboard-score"
                        style="font-size: 1.4rem; font-weight: 800; color: #fb7185; text-shadow: 0 0 10px rgba(251,113,133,0.5);">0</span>
                    <span class="scoreboard-label"
                        style="font-size: 0.65rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; color: #fb7185;">AGAINST</span>
                </div>
            </div>
        </header>

        <main class="discussion-container" id="main-discussion">
            <div id="discussion-stream">
                <!-- Messages will append here in a single stream -->
            </div>
            <div id="anchor"></div>

            <!-- "The Glass Voice" Input (Ive Style) - For Debaters -->
            <div id="user-input-container" class="ive-input-dock hidden">
                <div class="input-pill">
                    <textarea id="human-argument" placeholder="Reply..." rows="1"></textarea>
                    <button id="submit-argument" onclick="submitHumanTurn()">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Judge Input Dock - For Human Judge -->
            <div id="judge-input-container" class="judge-input-dock hidden">
                <div class="judge-panel">
                    <div class="judge-header">‚öñÔ∏è Your Judgment</div>
                    <!-- Normal scoring slider (hidden in verdict mode) -->
                    <div id="score-section" class="score-slider-row">
                        <span class="slider-label skeptic">Skeptic</span>
                        <input type="range" id="judge-score" min="-5" max="5" value="0" class="score-slider">
                        <span class="slider-label advocate">Advocate</span>
                        <span id="score-display" class="score-display">0</span>
                    </div>
                    <!-- Binary verdict buttons (shown only in verdict mode) -->
                    <div id="verdict-section" class="verdict-buttons" style="display: none;">
                        <button class="verdict-btn skeptic-wins" onclick="submitVerdict('skeptic')">
                            üî¥ SKEPTIC WINS
                        </button>
                        <button class="verdict-btn advocate-wins" onclick="submitVerdict('advocate')">
                            üü¢ ADVOCATE WINS
                        </button>
                    </div>
                    <textarea id="judge-comment" placeholder="Why? (optional)" rows="2"></textarea>
                    <div class="judge-actions">
                        <button id="judge-continue" class="judge-btn continue"
                            onclick="submitJudgeEvaluation(false)">Continue Debate</button>
                        <button id="judge-end" class="judge-btn end" onclick="submitJudgeEvaluation(true)">End & Declare
                            Winner</button>
                    </div>
                </div>
            </div>
        </main>
        <footer class="copyright-footer">
            <span>¬© 2025 Rishi Khullar / Unusual Insights Inc. | v1.34</span>
            <span id="debate-config" class="debate-config hidden"></span>
            <div class="footer-right">
                <a href="#" onclick="showHistory()" class="footer-link">History</a>
                <button onclick="showSettings()" id="settings-btn" class="settings-btn" title="Debate Settings">‚öôÔ∏è
                    Settings</button>
            </div>
        </footer>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content glass-panel settings-panel">
                <div class="modal-header">
                    <h2>‚öôÔ∏è Debate Settings</h2>
                    <button onclick="closeSettings()" class="close-btn">&times;</button>
                </div>

                <!-- Audio Toggle Section -->
                <div class="audio-toggle-section">
                    <label class="audio-toggle-label">
                        <input type="checkbox" id="sound-toggle-checkbox" onchange="toggleSound()">
                        <span class="audio-toggle-slider"></span>
                        <span class="audio-toggle-text">üîä Enable Audio</span>
                    </label>
                </div>

                <div class="settings-grid">
                    <!-- FOR Side -->
                    <div class="settings-group">
                        <h3 class="settings-group-title for-title">üü¢ FOR Side</h3>
                        <label>Model</label>
                        <select id="advocate-model" class="settings-select">
                            <option value="gemini">Gemini üá∫üá∏</option>
                            <option value="deepseek">DeepSeek üá®üá≥</option>
                            <option value="kimi" selected>Kimi K2 üá®üá≥</option>
                            <option value="human">Human (Me) üë§</option>
                        </select>
                        <label>Style</label>
                        <select id="advocate-tone" class="settings-select">
                            <option value="casual">Casual</option>
                            <option value="scholar" selected>Scholar</option>
                            <option value="simple">Simple</option>
                            <option value="witty">Witty</option>
                            <option value="ab-initio">Ab-Initio</option>
                            <option value="rofl">ROFL</option>
                            <option value="spicy">Spicy üå∂Ô∏è</option>
                            <option value="satirical">Satirical</option>
                        </select>
                        <div class="voice-section hidden">
                            <label>Voice</label>
                            <div class="voice-row">
                                <select id="advocate-voice" class="settings-select voice-select">
                                    <option value="">Auto</option>
                                </select>
                                <button onclick="previewVoice('advocate-voice')" class="voice-preview-btn">‚ñ∂</button>
                            </div>
                        </div>
                    </div>

                    <!-- AGAINST Side -->
                    <div class="settings-group">
                        <h3 class="settings-group-title against-title">üî¥ AGAINST Side</h3>
                        <label>Model</label>
                        <select id="skeptic-model" class="settings-select">
                            <option value="gemini">Gemini üá∫üá∏</option>
                            <option value="deepseek">DeepSeek üá®üá≥</option>
                            <option value="kimi" selected>Kimi K2 üá®üá≥</option>
                            <option value="human">Human (Me) üë§</option>
                        </select>
                        <label>Style</label>
                        <select id="skeptic-tone" class="settings-select">
                            <option value="casual">Casual</option>
                            <option value="scholar" selected>Scholar</option>
                            <option value="simple">Simple</option>
                            <option value="witty">Witty</option>
                            <option value="ab-initio">Ab-Initio</option>
                            <option value="rofl">ROFL</option>
                            <option value="spicy">Spicy üå∂Ô∏è</option>
                            <option value="satirical">Satirical</option>
                        </select>
                        <div class="voice-section hidden">
                            <label>Voice</label>
                            <div class="voice-row">
                                <select id="skeptic-voice" class="settings-select voice-select">
                                    <option value="">Auto</option>
                                </select>
                                <button onclick="previewVoice('skeptic-voice')" class="voice-preview-btn">‚ñ∂</button>
                            </div>
                        </div>
                    </div>

                    <!-- Judge -->
                    <div class="settings-group">
                        <h3 class="settings-group-title judge-title">‚öñÔ∏è Judge</h3>
                        <label>Model</label>
                        <select id="judge-model" class="settings-select">
                            <option value="gemini">Gemini üá∫üá∏</option>
                            <option value="deepseek" selected>DeepSeek üá®üá≥</option>
                            <option value="kimi">Kimi K2 üá®üá≥</option>
                            <option value="human">Human (Me) üë§</option>
                        </select>
                    </div>
                </div>
                <div id="settings-topic" class="settings-topic hidden"></div>
                <div class="settings-buttons">
                    <button onclick="closeSettings()" class="settings-cancel-btn">Cancel</button>
                    <button onclick="confirmAndStartDebate()" id="settings-start-btn" class="settings-done-btn">üöÄ Start
                        Debate</button>
                </div>
            </div>
        </div>

        <!-- History Modal -->
        <div id="history-modal" class="modal hidden">
            <div class="modal-content glass-panel">
                <div class="modal-header">
                    <h2>Debate History</h2>
                    <button onclick="closeHistory()" class="close-btn">&times;</button>
                </div>
                <div id="history-list" class="history-list">
                    <!-- History items injected here -->
                </div>
                <button onclick="clearHistory()" class="clear-history-btn">Clear History</button>
            </div>
            </footer>

            <!-- Prediction Modal -->
            <div id="prediction-modal" class="prediction-modal hidden">
                <div class="prediction-content glass-panel">
                    <div class="prediction-header">üéØ Make Your Prediction</div>
                    <p class="prediction-prompt">Who will win this debate?</p>
                    <div class="prediction-buttons">
                        <button class="prediction-btn advocate" onclick="submitPrediction('advocate')">
                            üü¢ ADVOCATE
                        </button>
                        <button class="prediction-btn skeptic" onclick="submitPrediction('skeptic')">
                            üî¥ SKEPTIC
                        </button>
                    </div>
                    <p class="prediction-skip"><a href="#" onclick="submitPrediction(null)">Skip prediction ‚Üí</a></p>
                </div>
            </div>

        </div>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
        <script src="/static/script.js?v=9"></script>
</body>

</html>